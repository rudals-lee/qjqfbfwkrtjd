<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>급전자용증 - 차용증 양식</title>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
        }

        .sidebar {
            width: 280px;
            background: white;
            border-radius: 8px;
            padding: 20px;
            height: fit-content;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .main-content {
            flex: 1;
            background: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header {
            background: #4285f4;
            color: white;
            padding: 15px 20px;
            margin: -20px -20px 20px -20px;
            border-radius: 8px 8px 0 0;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-icon {
            background: white;
            color: #4285f4;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-header {
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-number {
            background: #666;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 8px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .date-group {
            display: flex;
            gap: 15px;
        }

        .date-group .form-control {
            flex: 1;
        }

        .amount-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .amount-input input {
            flex: 1;
            text-align: right;
            font-size: 16px;
            font-weight: bold;
        }

        .document-title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 40px;
            color: #333;
        }

        .document-content {
            line-height: 1.8;
            font-size: 14px;
            color: #333;
            margin-bottom: 40px;
        }

        .document-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .detail-row {
            display: flex;
            margin-bottom: 8px;
        }

        .detail-label {
            min-width: 80px;
            font-weight: bold;
            color: #555;
        }

        .detail-value {
            color: #333;
        }

        .highlight {
            color: #4285f4;
            font-weight: bold;
        }

        .signature-section {
            margin-top: 50px;
            text-align: center;
        }

        .date-display {
            font-size: 16px;
            margin-bottom: 40px;
        }

        .party-info {
            text-align: left;
            margin: 30px 0;
            line-height: 2;
        }

        .party-label {
            display: inline-block;
            min-width: 120px;
            font-weight: bold;
        }

        .underline {
            border-bottom: 1px solid #333;
            display: inline-block;
            min-width: 200px;
            margin-left: 10px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }

        .btn-primary {
            background: #4285f4;
            color: white;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="header">
                <span class="info-icon">i</span>
                급전자용증
            </div>

            <div class="section">
                <div class="section-header">
                    <span class="section-number">1</span>
                    채권자 및 채무자
                </div>
                
                <div class="form-group">
                    <label class="form-label">돈 빌려준 사람(채권자)</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="lender-individual" name="lender-type" checked>
                            <label for="lender-individual">개인</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="lender-business" name="lender-type">
                            <label for="lender-business">개인사업자</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="lender-corporate" name="lender-type">
                            <label for="lender-corporate">법인</label>
                        </div>
                    </div>
                    <input type="text" class="form-control" placeholder="성명" style="margin-top: 10px;">
                    <input type="text" class="form-control" placeholder="김채권" style="margin-top: 5px;">
                </div>

                <div class="form-group">
                    <label class="form-label">돈 빌린 사람(채무자)</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="borrower-individual" name="borrower-type" checked>
                            <label for="borrower-individual">개인</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="borrower-business" name="borrower-type">
                            <label for="borrower-business">개인사업자</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="borrower-corporate" name="borrower-type">
                            <label for="borrower-corporate">법인</label>
                        </div>
                    </div>
                    <input type="text" class="form-control" placeholder="성명" style="margin-top: 10px;">
                    <input type="text" class="form-control" placeholder="이채무" style="margin-top: 5px;">
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <span class="section-number">2</span>
                    급전 대여 내용
                </div>
                
                <div class="form-group">
                    <label class="form-label">대여기간</label>
                    <div class="date-group">
                        <input type="date" class="form-control" value="2025-07-21">
                        <input type="date" class="form-control" value="2027-07-21">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">총 빌린 금액</label>
                    <div class="amount-input">
                        <input type="text" class="form-control" value="1,000,000">
                        <span>원</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">원금에 대한 이자를 적용하시나요? <span class="info-icon"></span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="interest-yes" name="interest" checked>
                            <label for="interest-yes">적용</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="interest-no" name="interest">
                            <label for="interest-no">적용하지 않음</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <span class="section-number">3</span>
                    채권자 상세정보
                </div>
                
                <div class="form-group">
                    <label class="form-label">성명</label>
                    <input type="text" class="form-control" placeholder="주민등록번호">
                </div>

                <div class="form-group">
                    <label class="form-label">김채권</label>
                    <input type="text" class="form-control" placeholder="930121-1">
                </div>

                <div class="form-group">
                    <label class="form-label">주소</label>
                    <button type="button" class="address-search-btn" onclick="searchAddress('lender')">
                        주소를 검색해주세요
                    </button>
                    <div id="lender-address" class="address-display"></div>
                    <input type="text" id="lender-detail-address" class="form-control" placeholder="나머지 주소를 입력해주세요">
                </div>

                <div class="form-group">
                    <label class="form-label">전화번호</label>
                    <input type="tel" id="lender-phone" class="form-control" placeholder="전화번호를 입력해주세요">
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <span class="section-number">4</span>
                    채무자 상세정보
                </div>
                
                <div class="form-group">
                    <label class="form-label">성명</label>
                    <input type="text" class="form-control" placeholder="주민등록번호">
                </div>

                <div class="form-group">
                    <label class="form-label">이채무</label>
                    <input type="text" class="form-control" placeholder="930122-2">
                </div>

                <div class="form-group">
                    <label class="form-label">주소</label>
                    <button type="button" class="address-search-btn" onclick="searchAddress('borrower')">
                        주소를 검색해주세요
                    </button>
                    <div id="borrower-address" class="address-display"></div>
                    <input type="text" id="borrower-detail-address" class="form-control" placeholder="나머지 주소를 입력해주세요">
                </div>

                <div class="form-group">
                    <label class="form-label">전화번호</label>
                    <input type="tel" id="borrower-phone" class="form-control" placeholder="전화번호를 입력해주세요">
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-secondary">돌아가기</button>
                <button class="btn btn-primary">계속하기</button>
            </div>
        </div>

        <div class="main-content">
            <div class="document-title">급전 차용증</div>
            
            <div class="document-content">
                <strong>이채무</strong>(이하 '채무자'라고 합니다)는 <strong>김채권</strong>(이하 '채권자'라고 합니다)로부터 아래와 같이 
                차용하였음을 확인하고, 부채의 것을 확약합니다.
            </div>

            <div style="text-align: center; margin: 30px 0; font-size: 18px; font-weight: bold;">
                - 아 래 -
            </div>

            <div class="document-details">
                <div class="detail-row">
                    <span class="detail-label">1. 차용일자 :</span>
                    <span class="detail-value highlight">2025.07.21.</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">2. 차용액 :</span>
                    <span class="detail-value">금 <span class="highlight">1,000,000</span> 원</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">3. 반제일 :</span>
                    <span class="detail-value highlight">2027.07.21.</span>
                </div>
            </div>

            <div class="signature-section">
                <div class="date-display">2025.07.21.</div>

                <div class="party-info">
                    <div style="margin-bottom: 20px;">
                        <span class="party-label">채무자 - 김채권</span>
                        <span style="margin-left: 50px;">(서명 또는 인)</span>
                        <br>
                        <span class="party-label">주민등록번호 :</span>
                        <span class="underline"></span>
                        <br>
                        <span class="party-label">주소 :</span>
                        <span class="underline"></span>
                        <br>
                        <span class="party-label">전화번호 :</span>
                        <span class="underline"></span>
                    </div>

                    <div>
                        <span class="party-label">채무자 - 이채무</span>
                        <span style="margin-left: 50px;">(서명 또는 인)</span>
                        <br>
                        <span class="party-label">주민등록번호 :</span>
                        <span class="underline"></span>
                        <br>
                        <span class="party-label">주소 :</span>
                        <span class="underline"></span>
                        <br>
                        <span class="party-label">전화번호 :</span>
                        <span class="underline"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 주소 데이터 저장 객체
        let addressData = {
            lender: { full: '', detail: '' },
            borrower: { full: '', detail: '' }
        };

        // 카카오 주소 검색 API 함수
        function searchAddress(type) {
            new daum.Postcode({
                oncomplete: function(data) {
                    // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드
                    let addr = ''; // 주소 변수
                    let extraAddr = ''; // 참고항목 변수

                    // 사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                    if (data.userSelectedType === 'R') { // 도로명 주소를 선택했을 경우
                        addr = data.roadAddress;
                    } else { // 지번 주소를 선택했을 경우(J)
                        addr = data.jibunAddress;
                    }

                    // 도로명 주소일 때 참고항목을 조합한다.
                    if(data.userSelectedType === 'R'){
                        // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                        if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                            extraAddr += data.bname;
                        }
                        // 건물명이 있고, 공동주택일 경우 추가한다.
                        if(data.buildingName !== '' && data.apartment === 'Y'){
                           extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                        }
                        // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                        if(extraAddr !== ''){
                            extraAddr = ' (' + extraAddr + ')';
                        }
                    }

                    // 우편번호와 주소 정보를 해당 필드에 넣는다.
                    const fullAddress = `(${data.zonecode}) ${addr}${extraAddr}`;
                    
                    // 주소 데이터 저장
                    addressData[type].full = fullAddress;
                    
                    // UI 업데이트
                    document.getElementById(`${type}-address`).textContent = fullAddress;
                    
                    // 상세주소 입력 필드에 포커스
                    document.getElementById(`${type}-detail-address`).focus();
                    
                    // 문서에 주소 업데이트
                    updateDocumentAddress(type);
                }
            }).open();
        }

        // 문서의 주소 정보 업데이트
        function updateDocumentAddress(type) {
            const fullAddress = addressData[type].full;
            const detailAddress = document.getElementById(`${type}-detail-address`).value;
            const completeAddress = fullAddress + (detailAddress ? ' ' + detailAddress : '');
            
            const docType = type === 'lender' ? 'lender' : 'borrower';
            const docElement = document.getElementById(`doc-${docType}-address`);
            if (docElement) {
                docElement.textContent = completeAddress;
            }
        }

        // 금액에 천 단위 콤마 추가
        function formatNumber(input) {
            let value = input.value.replace(/[^\d]/g, '');
            value = value.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            input.value = value;
        }

        // 모든 금액 입력 필드에 이벤트 리스너 추가
        document.querySelectorAll('.amount-input input').forEach(input => {
            input.addEventListener('input', () => formatNumber(input));
        });

        // 폼 데이터 실시간 업데이트
        document.addEventListener('DOMContentLoaded', function() {
            // 상세주소 입력 이벤트
            document.getElementById('lender-detail-address').addEventListener('input', function() {
                addressData.lender.detail = this.value;
                updateDocumentAddress('lender');
            });
            
            document.getElementById('borrower-detail-address').addEventListener('input', function() {
                addressData.borrower.detail = this.value;
                updateDocumentAddress('borrower');
            });

            // 전화번호 입력 이벤트
            document.getElementById('lender-phone').addEventListener('input', function() {
                document.getElementById('doc-lender-phone').textContent = this.value;
            });
            
            document.getElementById('borrower-phone').addEventListener('input', function() {
                document.getElementById('doc-borrower-phone').textContent = this.value;
            });

            // 기타 입력 필드들
            const inputs = document.querySelectorAll('input[type="text"], input[type="date"], input[type="tel"]');
            
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    console.log('Input changed:', this.value);
                    
                    // 주민등록번호 업데이트 (예시)
                    if (this.placeholder === '930121-1') {
                        document.getElementById('doc-lender-ssn').textContent = this.value;
                    } else if (this.placeholder === '930122-2') {
                        document.getElementById('doc-borrower-ssn').textContent = this.value;
                    }
                });
            });
        });
    </script>
</body>
</html>